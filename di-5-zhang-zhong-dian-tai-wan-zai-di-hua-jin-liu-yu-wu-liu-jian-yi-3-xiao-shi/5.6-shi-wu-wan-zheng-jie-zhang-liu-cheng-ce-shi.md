---
description: 恭喜您！您已經完成了「金流」、「物流」、「發票」三大系統的串接。
---

# 5.6 (實務) 完整結帳流程測試

在上線營運之前，**您必須**（Moksa 團隊也一定會）進行「**完整結帳流程測試**」。您必須親自扮演「顧客」，用「**真實的錢**」（例如 1 元商品）去下單，確保整個自動化流程 100% 正常運作。

**測試前的準備：**

1. **關閉測試模式：** 確保綠界 ECPay 和 LINE Pay 都已切換到「**正式環境 (Production)**」。
2. **上架 1 元商品：** 新增一個「簡單商品」，價格設為 `1` 元，庫存設為 `10`。

#### (實務) 結帳測試腳本 (Test Case)

請您（或您的團隊）至少執行以下 3 種最常見的顧客情境：

**測試 1：(金流) 信用卡 + (物流) 7-11**

1. 用「**瀏覽器無痕模式**」（假裝是新顧客）開啟您的網站。
2. 找到 1 元商品，將它加入購物車。
3. **運送方式：** 選擇「**7-ELEVEN 超商純取貨**」。
4. 點選「選擇門市」，在電子地圖上**實際選擇**一間 7-11。
5. **付款方式：** 選擇「**信用卡 (一次付清)**」。
6. **發票：** 選擇「**手機條碼**」，並輸入您自己的條碼。
7. 送出訂單。
8. **【檢查點 1】** 頁面是否成功跳轉到「綠界 ECPay 信用卡」輸入頁面？
9. **實際輸入**您自己的信用卡號，並完成 `1` 元付款。
10. **【檢查點 2】** 付款成功後，頁面是否成功跳轉回您網站的「感謝頁面」？
11. **【檢查點 3】** 登入**管理者後台**，在「WooCommerce」>「訂單」中，是否看到這筆新訂單？
12. **【檢查點 4】** 該訂單的狀態是否為「**處理中 (Processing)**」？
13. **【檢查點 5】** 點入訂單詳情，在「運送」欄位，是否正確顯示了您選擇的「7-11 門市名稱」？
14. **【檢查點 6】** 您（管理者）的 LINE Notify 是否收到「新訂單通知」？

**測試 2：(金流) LINE Pay + (物流) 全家**

1. 重複上述流程。
2. **運送方式：** 選擇「**全家超商純取貨**」，並選擇門市。
3. **付款方式：** 選擇「**LINE Pay**」。
4. **發票：** 選擇「**捐贈**」。
5. 送出訂單。
6. **【檢查點 1】** 頁面是否成功跳轉到「LINE Pay」的 QR Code 付款畫面？
7. **實際用手機**掃描 QR Code，並完成 `1` 元付款。
8. **【檢查點 2-6】** 同上，檢查是否跳轉成功、訂單是否成立、狀態是否為「處理中」。

**測試 3：(金流) ATM + (物流) 宅配**

1. 重複上述流程。
2. **運送方式：** 選擇「**黑貓宅配 (本島)**」。
3. **付款方式：** 選擇「**網路 ATM 轉帳**」。
4. **發票：** 選擇「**公司戶**」，並輸入統編和抬頭。
5. 送出訂單。
6. **【檢查點 1】** 感謝頁面是否顯示「綠界 ATM 虛擬帳號」？
7. **【檢查點 2】** 後台訂單狀態是否為「**保留 (Pending payment)**」？
8. **實際**去網路銀行，轉帳 `1` 元到該虛擬帳號。
9. **【檢查點 3】** 等待 5-10 分鐘後，後台訂單狀態是否**自動**從「保留」變為「**處理中 (Processing)**」？

#### (實務) 出貨與收尾測試

1. 針對「測試 1」的訂單，到後台「列印寄件單」（`5.4` 教的）。
2. **實際**把這個 1 元商品包裝好，拿去 7-11 寄件。
3. （等待 2-3 天）
4. **實際**去您選擇的 7-11 門市，「**領取**」這個包裹。
5. **【檢查點 7】** 領取後（例如：1-2 小時後），登入後台，該訂單狀態是否**自動**從「處理中」變為「**已完成 (Completed)**」？
6. **【檢查點 8】** 訂單狀態變為「已完成」後，您的 Email（或手機載具）是否收到了「**綠界電子發票**」的開立通知？

**總結：** 只有當上述**所有 8 個檢查點**都**全部通過**，才代表您的金流、物流、發票自動化系統已串接成功，您的商店才算真正準備好「正式營運」。
